---
title: Contributing to LTCG
description: Guidelines for contributing to the Lunch Table Card Game project
lastUpdated: '2026-02-03'
tags: ['contributing', 'development', 'git', 'code-review', 'standards']
---

# Contributing to LTCG

Thank you for your interest in contributing to the Lunch Table Card Game project. This guide will help you get started.

## Getting Started

### Prerequisites

Before contributing, ensure you have:

- **Bun** v1.1.38+ installed ([installation guide](https://bun.sh))
- **Node.js** v20+ (for compatibility checks)
- **Git** configured with your GitHub account
- **Code editor** (VS Code recommended)

### Initial Setup

1. **Fork the repository** on GitHub
2. **Clone your fork**:
   ```bash
   git clone https://github.com/YOUR_USERNAME/ltcg.git
   cd ltcg
   ```

3. **Install dependencies**:
   ```bash
   bun install
   ```

4. **Set up environment variables**:
   ```bash
   cp .env.example .env.local
   # Fill in required values
   ```

5. **Run setup**:
   ```bash
   # Start Convex development server
   bunx convex dev

   # In another terminal, run setup
   bun run setup:dev
   ```

6. **Verify installation**:
   ```bash
   # Run tests
   bun run test:unit

   # Start development server
   bun run dev:web
   ```

For detailed setup instructions, see [Initial Setup](/learn/setup/initial-setup).

## Development Workflow

### Branch Strategy

We use a simple branching model:

- **`main`**: Production-ready code
- **Feature branches**: `feature/your-feature-name`
- **Bug fixes**: `fix/issue-description`
- **Documentation**: `docs/what-youre-documenting`

### Creating a Feature Branch

```bash
# Update main branch
git checkout main
git pull origin main

# Create feature branch
git checkout -b feature/add-new-card-ability

# Make your changes
# ...

# Commit changes
git add .
git commit -m "feat: add poison damage over time ability"

# Push to your fork
git push origin feature/add-new-card-ability
```

### Commit Message Convention

We follow [Conventional Commits](https://www.conventionalcommits.org):

```
<type>(<scope>): <description>

[optional body]

[optional footer]
```

**Types**:
- `feat`: New feature
- `fix`: Bug fix
- `docs`: Documentation changes
- `style`: Code style changes (formatting, no logic change)
- `refactor`: Code refactoring
- `test`: Adding or updating tests
- `chore`: Maintenance tasks

**Examples**:

```bash
# New feature
git commit -m "feat(cards): add legendary rarity tier"

# Bug fix
git commit -m "fix(battle): resolve turn order calculation bug"

# Documentation
git commit -m "docs(api): add authentication flow diagram"

# Refactor
git commit -m "refactor(shop): extract pack opening logic to helper"
```

### Pull Request Process

1. **Create Pull Request** on GitHub from your feature branch to `main`

2. **Fill in PR Template**:
   - Describe what changed and why
   - Link related issues
   - Add screenshots for UI changes
   - List testing performed

3. **Pass CI Checks**:
   - All tests must pass
   - Code must pass linting
   - No TypeScript errors

4. **Request Review**:
   - Tag relevant reviewers
   - Address review comments
   - Update PR as needed

5. **Merge**:
   - Squash and merge when approved
   - Delete feature branch after merge

### Example PR Template

```markdown
## Description
Add poison damage over time ability for cards.

## Changes
- Created `PoisonAbility` component
- Added `applyPoison` game logic function
- Updated card schema to support poison
- Added unit tests for poison mechanics

## Related Issues
Closes #123

## Testing
- [ ] Unit tests pass
- [ ] Integration tests pass
- [ ] Manually tested in game
- [ ] Tested with multiple card types

## Screenshots
[Add screenshots if UI changes]
```

## Code Style Guide

### TypeScript Standards

Follow the [TypeScript Standards](/develop/coding-standards/typescript) document.

**Key Points**:
- Prefer type inference over explicit return types
- Use `apiAny` helper for Convex API calls
- Extract complex objects to avoid type depth errors
- Follow consistent naming conventions

**Example**:

```typescript
// ✅ GOOD: Inference and helpers
import { apiAny, useConvexQuery } from "@/lib/convexHelpers";

function GameLobby({ gameId }: { gameId: string }) {
  const game = useConvexQuery(apiAny.games.get, { gameId });

  if (!game) return <LoadingSpinner />;

  return <GameDetails game={game} />;
}

// ❌ BAD: Inline casting and explicit types
function GameLobby({ gameId }: { gameId: string }): JSX.Element {
  const game = useQuery(api.games.get as any, { gameId });
  // ...
}
```

### React Patterns

- Use functional components with hooks
- Prefer `useConvexQuery` and `useConvexMutation` wrappers
- Extract complex logic to custom hooks
- Use React Server Components where possible (App Router)

**Example**:

```typescript
// Custom hook for game logic
function useGameActions(gameId: string) {
  const playCard = useConvexMutation(apiAny.games.playCard);
  const endTurn = useConvexMutation(apiAny.games.endTurn);

  return {
    playCard: (cardId: string) => playCard({ gameId, cardId }),
    endTurn: () => endTurn({ gameId }),
  };
}

// Component using the hook
function GameBoard({ gameId }: { gameId: string }) {
  const { playCard, endTurn } = useGameActions(gameId);

  return (
    <div>
      <CardHand onCardClick={playCard} />
      <button onClick={endTurn}>End Turn</button>
    </div>
  );
}
```

### Convex Functions

- Use validators for all arguments and return values
- Add descriptive names to functions
- Include error handling
- Use `requireAuth` helper for authenticated functions

**Example**:

```typescript
export const joinGame = mutation({
  args: {
    gameId: v.id("gameLobbies"),
  },
  returns: v.object({
    success: v.boolean(),
    message: v.string(),
  }),
  handler: async (ctx, { gameId }) => {
    const userId = await requireAuth(ctx);

    const game = await ctx.db.get(gameId);
    if (!game) {
      throw new Error("Game not found");
    }

    if (game.players.length >= game.maxPlayers) {
      return { success: false, message: "Game is full" };
    }

    await ctx.db.patch(gameId, {
      players: [...game.players, userId],
    });

    return { success: true, message: "Joined game successfully" };
  },
});
```

### File Organization

```
apps/web/
├── app/                    # Next.js App Router
│   ├── (app)/             # Authenticated app layout
│   ├── (marketing)/       # Public marketing pages
│   └── api/               # API routes
├── src/
│   ├── components/        # React components
│   │   ├── game/         # Game-specific components
│   │   ├── ui/           # Reusable UI components
│   │   └── layout/       # Layout components
│   ├── hooks/            # Custom React hooks
│   ├── lib/              # Utility functions
│   └── types/            # TypeScript types
└── public/               # Static assets

convex/
├── schema.ts             # Database schema
├── auth/                 # Authentication functions
├── game/                 # Game logic functions
├── economy/              # Shop, currency, etc.
└── utils/                # Shared utilities
```

## Testing Requirements

All contributions should include appropriate tests.

### Unit Tests

Test isolated logic and components:

```typescript
// src/lib/calculateXP.test.ts
import { describe, it, expect } from "vitest";
import { calculateXP } from "./calculateXP";

describe("calculateXP", () => {
  it("awards base XP for win", () => {
    expect(calculateXP({ win: true, gameDuration: 300 })).toBe(100);
  });

  it("awards bonus XP for quick win", () => {
    expect(calculateXP({ win: true, gameDuration: 120 })).toBe(150);
  });

  it("awards reduced XP for loss", () => {
    expect(calculateXP({ win: false, gameDuration: 300 })).toBe(25);
  });
});
```

**Run tests**:

```bash
bun run test:unit
bun run test:unit -- --watch  # Watch mode
```

### Integration Tests

Test against real Convex backend:

```typescript
// tests/integration/game.test.ts
import { describe, it, expect, beforeEach } from "vitest";
import { ConvexTestingHelper } from "convex-test";

describe("Game Flow", () => {
  let t: ConvexTestingHelper;

  beforeEach(async () => {
    t = new ConvexTestingHelper();
    await t.run(async (ctx) => {
      // Setup test data
    });
  });

  it("allows players to join game", async () => {
    await t.run(async (ctx) => {
      const gameId = await ctx.run(internal.games.create, {
        hostId: testUserId,
      });

      const result = await ctx.run(api.games.join, { gameId });

      expect(result.success).toBe(true);
    });
  });
});
```

**Run tests**:

```bash
bun run test:integration
```

### E2E Tests

Test complete user flows:

```typescript
// e2e/game-flow.spec.ts
import { test, expect } from "@playwright/test";

test("user can create and play game", async ({ page }) => {
  await page.goto("/");

  // Login
  await page.click("text=Login");
  await page.fill('input[type="email"]', "test@example.com");
  await page.fill('input[type="password"]', "password123");
  await page.click("button:has-text('Sign In')");

  // Create game
  await page.click("text=New Game");
  await page.waitForURL("/game/*");

  // Verify game started
  await expect(page.locator("text=Your Turn")).toBeVisible();
});
```

**Run tests**:

```bash
bun run test:e2e
bun run test:e2e:ui  # Interactive mode
```

## Documentation

### Code Documentation

Add JSDoc comments for public APIs:

```typescript
/**
 * Calculate XP earned from a game
 * @param win - Whether the player won
 * @param gameDuration - Game duration in seconds
 * @param streak - Current win streak
 * @returns XP amount
 */
export function calculateXP(
  win: boolean,
  gameDuration: number,
  streak: number = 0
): number {
  let xp = win ? 100 : 25;

  // Bonus for quick wins
  if (win && gameDuration < 180) {
    xp += 50;
  }

  // Streak bonus
  xp += streak * 10;

  return xp;
}
```

### Documentation Files

Update documentation when:

- Adding new features
- Changing APIs
- Adding new commands
- Changing setup process

Documentation lives in `packages/docs/content/`:

```bash
# Add new documentation
code packages/docs/content/guides/new-feature.mdx
```

See [Documentation Structure](/develop/docs/structure) for details.

## Code Review Guidelines

### For Contributors

When submitting PRs:

- Keep PRs focused and small (< 500 lines when possible)
- Write clear commit messages
- Add tests for new functionality
- Update documentation
- Respond to feedback promptly
- Be open to suggestions

### For Reviewers

When reviewing PRs:

- Be respectful and constructive
- Ask questions to understand intent
- Suggest improvements, don't demand
- Focus on logic, not style (linter handles style)
- Approve when ready, don't block on minor issues

**Review Checklist**:

- [ ] Code follows project conventions
- [ ] Tests are included and pass
- [ ] Documentation is updated
- [ ] No obvious bugs or security issues
- [ ] Changes are backward compatible (or migration provided)

## Getting Help

### Resources

- **Documentation**: Browse [docs](/learn)
- **Discord**: Join our [Discord server](https://discord.gg/ltcg)
- **GitHub Issues**: Search [existing issues](https://github.com/org/ltcg/issues)
- **GitHub Discussions**: Ask in [discussions](https://github.com/org/ltcg/discussions)

### Reporting Bugs

Use the bug report template when creating issues:

```markdown
## Description
Clear description of the bug

## Steps to Reproduce
1. Go to '...'
2. Click on '...'
3. See error

## Expected Behavior
What should happen

## Actual Behavior
What actually happens

## Environment
- OS: macOS 14.0
- Browser: Chrome 120
- Version: v1.2.3

## Screenshots
[Add if applicable]
```

### Feature Requests

Use the feature request template:

```markdown
## Problem
Describe the problem this feature solves

## Proposed Solution
Describe your proposed solution

## Alternatives Considered
Other approaches you've considered

## Additional Context
Any other context or screenshots
```

## Community Guidelines

### Code of Conduct

We expect all contributors to:

- Be respectful and inclusive
- Welcome newcomers
- Focus on constructive feedback
- Respect different viewpoints
- Assume good intent

### Unacceptable Behavior

- Harassment or discrimination
- Trolling or inflammatory comments
- Personal attacks
- Publishing private information
- Other unprofessional conduct

**Violations**: Report to maintainers via email or Discord DM

## Recognition

Contributors are recognized in:

- **CONTRIBUTORS.md**: All contributors listed
- **Release Notes**: Notable contributions mentioned
- **Discord**: Contributor role in Discord server

## License

By contributing, you agree that your contributions will be licensed under the project's MIT License.

## Questions?

If you have questions not covered here:

- Ask in [GitHub Discussions](https://github.com/org/ltcg/discussions)
- Join our [Discord server](https://discord.gg/ltcg)
- Open an issue with the "question" label

Thank you for contributing to LTCG!

## Related Documentation

- [Initial Setup](/learn/setup/initial-setup) - Development environment setup
- [Testing Strategy](/develop/testing-strategy) - Testing guidelines
- [TypeScript Standards](/develop/coding-standards/typescript) - Code style guide
- [Git Workflow](/develop/git-workflow) - Detailed Git instructions
